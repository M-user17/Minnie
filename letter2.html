<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="./css/main.css">
  <title>Page 2</title>
</head>
<body>
  
  <div class="backgroundParty">
    <audio class="song" controls loop>
      <source src="assets/hbd.mp3"></source>
      Your browser isn't invited for super fun audio time.
    </audio>

    <div class="letterForm">
      <input type="checkbox" id="mess">
      <div class="content">
        <div class="mainContent"></div>
        <div class="img1"><img class="img" src="" alt=""></div>
      </div>
      <label class="designBox" id="play" for="mess"></label>
    </div>
  </div>

  <script src="assets/jquery.min.js"></script>
  <script src="assets/effect.js"></script>
  <script >


let mainContent = document.querySelector(".mainContent");
const mainContentLetter = "Chào bạn nhỏ, tôi là một fan hâm mộ bạn từ lâu rồi,Chúc bạn nhỏ có một hành trình du học thật tuyệt vời và đầy những trải nghiệm đáng nhớ. Hy vọng bạn sẽ thành công trong mọi lĩnh vực và đạt được những ước mơ lớn của mình" 
let imgLetter = document.querySelector(".img");
imgLetter.src = "./img/shy.png"; 
var timeouts = [];

document.querySelector("#mess").addEventListener("change", function () {

  mainContent.innerHTML = "";
 

  for (let i = 0; i < timeouts.length; i++) {
    clearTimeout(timeouts[i]);
  }


    if (this.checked == true) {


        document.querySelector(".content").classList.add("actived")
        const splitMainContentLetter = mainContentLetter.split("");
        

        for (let i = 0; i < splitMainContentLetter.length; i++) {
          timeouts.push(setTimeout(() => {
            if (this.checked == true) {
              mainContent.innerHTML += splitMainContentLetter[i];
              if (i == splitMainContentLetter.length - 1) {
                document.querySelector(".img1").setAttribute("style", "opacity: 1; transition: .5s");
              }
            }
            
          }, 50 * i));
        }

    } else {

      for (let i = 0; i < timeouts.length; i++) {
        clearTimeout(timeouts[i]);
      }
        document.querySelector(".content").classList.remove("actived")
        document.querySelector(".img1").setAttribute("style", "opacity: 0; transition: .5s")
        mainContent.innerHTML = "";
    }
})




  </script>
</body>
</html>
